@using Microsoft.AspNet.Identity

<style>
    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

            .dropdown-content a:hover {
                background-color: #f1f1f1
            }

    .dropdown:hover .dropdown-content {
        display: block;
    }

    .dropbtn:hover {
        cursor: pointer;
    }

</style>
@if (Request.IsAuthenticated)
               
            {
                using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                {
                    @Html.AntiForgeryToken()

                    <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
                <a href="javascript:void(0)" class="dropbtn">Hello @User.Identity.GetUserName()!</a>
                <div class="dropdown-content">

                    @if (User.Identity.GetUserId() != null)
                    {
                        var user = User.Identity.GetUserId();
                        var userManager = Shop_Mobile.Models.AccountBUS.ThongTintaiKhoan(user);
                        if (!userManager.LockoutEnabled)
                        {
                            <a href="@Url.Action("Index","Admin")">Trang Quản Trị</a>
                        }
                        else
                        {
                            <a href="@Url.Action("Index", "Manage")">Thông Tin Tài Khoản</a>
                        }
                    }
                    
                    <!-- Thêm các liên kết khác tại đây nếu cần -->
                </div>
            </li>
            <li><a href="javascript:document.getElementById('logoutForm').submit()">Đăng Xuất</a></li>
        </ul>

    }
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li>@Html.ActionLink("Đăng Ký", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>
        <li>@Html.ActionLink("Đăng Nhập", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
    </ul>
}
